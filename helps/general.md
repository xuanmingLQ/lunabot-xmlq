# 基础指令 (general)

---

## 指令目录

标记 🛠️ 的指令仅限超级管理使用

- [获取帮助](#获取帮助)
- 🛠️ [开启/关闭群聊](#开启关闭群聊)
- 🛠️ [查看群聊开启状态](#查看群聊开启状态)
- 🛠️ [在群聊开启/关闭服务](#在群聊开启关闭服务)
- 🛠️ [查看群聊服务开启状态](#查看群聊服务开启状态)
- 🛠️ [查看某个服务开启状态](#查看某个服务开启状态)
- 🛠️ [添加/删除黑名单](#添加删除黑名单)
- 🛠️ [获取当日消息发送量](#获取当日消息发送量)
- 🛠️ [查询绘图缓存](#查询绘图缓存)
- 🛠️ [清除绘图缓存](#清除绘图缓存)
- 🛠️ [安全模式](#安全模式)
- 🛠️ [性能分析](#性能分析)
- 🛠️ [清空退出群聊数据](#清空退出群聊数据)
- 🛠️ [执行代码](#执行代码)

---


### 获取帮助
`/help`
> 获取帮助  
加上参数获取指定服务的帮助  
在其他指令后加上`help`可以单独获取特定指令的帮助 
 
- `/help` 获取帮助
- `/help alive` 获取alive服务的帮助
- `/xxx help` 获取 /xxx 指令的帮助


### 开启/关闭群聊
🛠️ `/enable` `/disable`
> 开启或关闭群聊，开启后才能响应指令，默认为关闭状态  

- `@bot /enable` 开启当前群聊
- `@bot /disable` 关闭当前群聊
- `@bot /enable 123456` 开启群聊123456
- `@bot /disable 123456` 关闭群聊123456


### 查看群聊开启状态
🛠️ `/group status`
> 查看所有群聊开启状态


### 在群聊开启/关闭服务
🛠️ `/{服务名} on` `/{服务名} off`
> 在群聊中开启或关闭服务，可以指定群号  

- `/alive on` 开启alive服务
- `/alive off` 关闭alive服务
- `/alive on 123456` 在群聊123456中开启alive服务


### 查看群聊服务开启状态
🛠️ `/service` `/服务`
> 查看当前群聊开启的服务列表或查看某个特定服务开启状态

- `/service` 查看当前群聊开启的服务列表
- `/service chat` 查看chat服务在哪些群聊开启


### 查看某个服务开启状态
🛠️ `/{服务名} status` `/{服务名} 状态`
> 查看当前群聊某个服务是否开启，可以指定群号  

- `/alive status` 查看alive服务是否开启
- `/alive status 123456` 查看群聊123456中alive服务是否开启


### 添加/删除黑名单
🛠️ `/blacklist add` `/blacklist del`
> 添加或删除黑名单，bot将不会响应黑名单中的用户的指令  

- `/blacklist add 123456` 添加用户123456到黑名单
- `/blacklist del 123456` 删除用户123456从黑名单


### 获取当日消息发送量
🛠️ `/send count`
> 获取当日消息发送数量


### 查询绘图缓存
🛠️ `/pcache`
> 查询绘图缓存，返回当前绘图缓存的key-value列表


### 清除绘图缓存
🛠️ `/pcache clear`
> 删除某个key的绘图缓存

- `/pcache clear key` 删除key的绘图缓存


### 安全模式
🛠️ `/safe`
> 开启或关闭安全模式，开启后将仅响应超级管理发送的指令


### 性能分析
🛠️ `/profiling` `/性能分析`
> 开启或关闭基于yappi的性能分析    
参数指定 clock_type: `wall` 或 `cpu`，默认为 `cpu`    
性能分析结果保存于 `data/misc/profiler/` 中，可用使用snakeviz查看    

- `/性能分析` 开启/关闭性能分析
- `/性能分析 wall` 开启基于 wall clock 的性能分析


### 清空退出群聊数据
🛠️ `/clear group` `/清理退群`
> 清空所有bot已退出的群聊或已退出群聊的用户的订阅推送等数据        
目前会清理的数据：     
1.群聊功能黑白名单      
2.群聊功能订阅、群聊用户功能订阅     
3.定时提醒任务      

- `/clear group`


### 执行代码
🛠️ `/exec` `/执行`
> 在本地环境执行代码，输出执行的最后一句的返回值

- `/exec 1+1`


---

[回到帮助目录](./main.md)